/*!
 * pixi-plugin-bump - v1.1.8
 * Compiled Fri, 19 Oct 2018 21:38:37 UTC
 *
 * pixi-plugin-bump is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pixiBump||(e.pixiBump={})).min=t()}}(function(){return function(){function t(e,i,r){function o(h,f){if(!i[h]){if(!e[h]){var s="function"==typeof require&&require;if(!f&&s)return s(h,!0);if(n)return n(h,!0);var a=new Error("Cannot find module '"+h+"'");throw a.code="MODULE_NOT_FOUND",a}var d=i[h]={exports:{}};e[h][0].call(d.exports,function(t){return o(e[h][1][t]||t)},d,d.exports,t,e,i,r)}return i[h].exports}for(var n="function"==typeof require&&require,h=0;h<r.length;h++)o(r[h]);return o}return t}()({1:[function(t,e,i){function r(){this.rendererType="pixi"}r.prototype=new r,r.prototype.addCollisionProperties=function(t){"pixi"===this.rendererType&&(void 0===t.gx&&Object.defineProperty(t,"gx",{get:function(){return t.getGlobalPosition().x},enumerable:!0,configurable:!0}),void 0===t.gy&&Object.defineProperty(t,"gy",{get:function(){return t.getGlobalPosition().y},enumerable:!0,configurable:!0}),void 0===t.centerX&&Object.defineProperty(t,"centerX",{get:function(){return t.x+t.width/2},enumerable:!0,configurable:!0}),void 0===t.centerY&&Object.defineProperty(t,"centerY",{get:function(){return t.y+t.height/2},enumerable:!0,configurable:!0}),void 0===t.halfWidth&&Object.defineProperty(t,"halfWidth",{get:function(){return t.width/2},enumerable:!0,configurable:!0}),void 0===t.halfHeight&&Object.defineProperty(t,"halfHeight",{get:function(){return t.height/2},enumerable:!0,configurable:!0}),void 0===t.xAnchorOffset&&Object.defineProperty(t,"xAnchorOffset",{get:function(){return void 0!==t.anchor?t.width*t.anchor.x:0},enumerable:!0,configurable:!0}),void 0===t.yAnchorOffset&&Object.defineProperty(t,"yAnchorOffset",{get:function(){return void 0!==t.anchor?t.height*t.anchor.y:0},enumerable:!0,configurable:!0}),t.circular&&void 0===t.radius&&Object.defineProperty(t,"radius",{get:function(){return t.width/2},enumerable:!0,configurable:!0})),t._bumpPropertiesAdded=!0},r.prototype.hitTestPoint=function(t,e){e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,r,o,n,h,f,s,a,d;return i=e.radius?"circle":"rectangle","rectangle"===i&&(r=e.x-e.xAnchorOffset,o=e.x+e.width-e.xAnchorOffset,n=e.y-e.yAnchorOffset,h=e.y+e.height-e.yAnchorOffset,d=t.x>r&&t.x<o&&t.y>n&&t.y<h),"circle"===i&&(f=t.x-e.x-e.width/2+e.xAnchorOffset,s=t.y-e.y-e.height/2+e.yAnchorOffset,a=Math.sqrt(f*f+s*s),d=a<e.radius),d},r.prototype.hitTestCircle=function(t,e,i){t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var r,o,n,h;return i?(r=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),o=e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(r=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),o=e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),n=Math.sqrt(r*r+o*o),h=t.radius+e.radius,n<h},r.prototype.circleCollision=function(t,e,i,r){t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var o,n,h,f,s,a,d,c={},y=!1;if(r?(f=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),s=e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(f=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),s=e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),o=Math.sqrt(f*f+s*s),n=t.radius+e.radius,o<n){y=!0,h=n-o;h+=.3,a=f/o,d=s/o,t.x-=h*a,t.y-=h*d,i&&(c.x=s,c.y=-f,this.bounceOffSurface(t,c))}return y},r.prototype.movingCircleCollision=function(t,e,i){t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var r,o,n,h,f={},s={},a={},d={},c={},y=!1;if(t.mass=t.mass||1,e.mass=e.mass||1,i?(f.vx=e.gx+e.radius-e.xAnchorOffset-(t.gx+t.radius-t.xAnchorOffset),f.vy=e.gy+e.radius-e.yAnchorOffset-(t.gy+t.radius-t.yAnchorOffset)):(f.vx=e.x+e.radius-e.xAnchorOffset-(t.x+t.radius-t.xAnchorOffset),f.vy=e.y+e.radius-e.yAnchorOffset-(t.y+t.radius-t.yAnchorOffset)),f.magnitude=Math.sqrt(f.vx*f.vx+f.vy*f.vy),r=t.radius+e.radius,f.magnitude<r){y=!0,o=r-f.magnitude,o+=.3,f.dx=f.vx/f.magnitude,f.dy=f.vy/f.magnitude,f.vxHalf=Math.abs(f.dx*o/2),f.vyHalf=Math.abs(f.dy*o/2),n=t.x>e.x?1:-1,h=t.y>e.y?1:-1,t.x=t.x+f.vxHalf*n,t.y=t.y+f.vyHalf*h,e.x=e.x+f.vxHalf*-n,e.y=e.y+f.vyHalf*-h,f.lx=f.vy,f.ly=-f.vx;var l=t.vx*f.dx+t.vy*f.dy;s.x=l*f.dx,s.y=l*f.dy;var x=t.vx*(f.lx/f.magnitude)+t.vy*(f.ly/f.magnitude);a.x=x*(f.lx/f.magnitude),a.y=x*(f.ly/f.magnitude);var u=e.vx*f.dx+e.vy*f.dy;d.x=u*f.dx,d.y=u*f.dy;var p=e.vx*(f.lx/f.magnitude)+e.vy*(f.ly/f.magnitude);c.x=p*(f.lx/f.magnitude),c.y=p*(f.ly/f.magnitude),t.bounce={},t.bounce.x=a.x+d.x,t.bounce.y=a.y+d.y,e.bounce={},e.bounce.x=s.x+c.x,e.bounce.y=s.y+c.y,t.vx=t.bounce.x/t.mass,t.vy=t.bounce.y/t.mass,e.vx=e.bounce.x/e.mass,e.vy=e.bounce.y/e.mass}return y},r.prototype.multipleCircleCollision=function(t,e){for(var i=0;i<t.length;i++)for(var r=t[i],o=i+1;o<t.length;o++){var n=t[o];this.movingCircleCollision(r,n,e)}},r.prototype.checkMultipleCollision=function(t,e,i){for(var r=0;r<t.length;r++)for(var o=displayObjects[r],n=r+1;n<t.length;n++){var h=t[n];return e?rectangleCollision(o,h,e,i):hitTestRectangle(o,h,i)}},r.prototype.rectangleCollision=function(t,e,i,r){!1!==r&&(r=!0),t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var o,n,h,f,s,a,d;return r?(a=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),d=t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(a=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),d=t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),n=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),h=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(a)<n&&Math.abs(d)<h&&(f=n-Math.abs(a),s=h-Math.abs(d),f>=s?(d>0?(o="top",t.y=t.y+s):(o="bottom",t.y=t.y-s),i&&(t.vy*=-1)):(a>0?(o="left",t.x=t.x+f):(o="right",t.x=t.x-f),i&&(t.vx*=-1))),o},r.prototype.hitTestRectangle=function(t,e,i){t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var r,o,n,h;return!1,i?(n=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),h=t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(n=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),h=t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),r=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),o=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(n)<r&&Math.abs(h)<o},r.prototype.hitTestCircleRectangle=function(t,e,i){e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var r,o,n,h,f,s;if(i?(n=t.gx,h=t.gy,f=e.gx,s=e.gy):(n=t.x,h=t.y,f=e.x,s=e.y),"topMiddle"===(r=h-t.yAnchorOffset<s-Math.abs(e.halfHeight)-e.yAnchorOffset?n-t.xAnchorOffset<f-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":n-t.xAnchorOffset>f+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":h-t.yAnchorOffset>s+Math.abs(e.halfHeight)-e.yAnchorOffset?n-t.xAnchorOffset<f-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":n-t.xAnchorOffset>f+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":n-t.xAnchorOffset<f-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===r||"leftMiddle"===r||"rightMiddle"===r)o=this.hitTestRectangle(t,e,i);else{var a={};switch(r){case"topLeft":a.x=f-e.xAnchorOffset,a.y=s-e.yAnchorOffset;break;case"topRight":a.x=f+e.width-e.xAnchorOffset,a.y=s-e.yAnchorOffset;break;case"bottomLeft":a.x=f-e.xAnchorOffset,a.y=s+e.height-e.yAnchorOffset;break;case"bottomRight":a.x=f+e.width-e.xAnchorOffset,a.y=s+e.height-e.yAnchorOffset}o=this.hitTestCirclePoint(t,a,i)}return o?r:o},r.prototype.hitTestCirclePoint=function(t,e,i){return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.hitTestCircle(t,e,i)},r.prototype.circleRectangleCollision=function(t,e,i,r){e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var o,n,h,f,s,a;if(r?(h=t.gx,f=t.gy,s=e.gx,a=e.gy):(h=t.x,f=t.y,s=e.x,a=e.y),"topMiddle"===(o=f-t.yAnchorOffset<a-Math.abs(e.halfHeight)-e.yAnchorOffset?h-t.xAnchorOffset<s-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":h-t.xAnchorOffset>s+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":f-t.yAnchorOffset>a+Math.abs(e.halfHeight)-e.yAnchorOffset?h-t.xAnchorOffset<s-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":h-t.xAnchorOffset>s+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":h-t.xAnchorOffset<s-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===o||"leftMiddle"===o||"rightMiddle"===o)n=this.rectangleCollision(t,e,i,r);else{var d={};switch(o){case"topLeft":d.x=s-e.xAnchorOffset,d.y=a-e.yAnchorOffset;break;case"topRight":d.x=s+e.width-e.xAnchorOffset,d.y=a-e.yAnchorOffset;break;case"bottomLeft":d.x=s-e.xAnchorOffset,d.y=a+e.height-e.yAnchorOffset;break;case"bottomRight":d.x=s+e.width-e.xAnchorOffset,d.y=a+e.height-e.yAnchorOffset}n=this.circlePointCollision(t,d,i,r)}return n?o:n},r.prototype.circlePointCollision=function(t,e,i,r){return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.circleCollision(t,e,i,r)},r.prototype.bounceOffSurface=function(t,e){t._bumpPropertiesAdded||this.addCollisionProperties(t);var i,r,o={},n={},h={},f=t.mass||1;e.lx=e.y,e.ly=-e.x,e.magnitude=Math.sqrt(e.x*e.x+e.y*e.y),e.dx=e.x/e.magnitude,e.dy=e.y/e.magnitude,i=t.vx*e.dx+t.vy*e.dy,o.vx=i*e.dx,o.vy=i*e.dy,r=t.vx*(e.lx/e.magnitude)+t.vy*(e.ly/e.magnitude),n.vx=r*(e.lx/e.magnitude),n.vy=r*(e.ly/e.magnitude),n.vx*=-1,n.vy*=-1,h.x=o.vx+n.vx,h.y=o.vy+n.vy,t.vx=h.x/f,t.vy=h.y/f},r.prototype.contain=function(t,e,i,r){r||(r=void 0),t._bumpPropertiesAdded||this.addCollisionProperties(t),void 0===e.xAnchorOffset&&(e.xAnchorOffset=0),void 0===e.yAnchorOffset&&(e.yAnchorOffset=0),void 0===t.parent.gx&&(t.parent.gx=0),void 0===t.parent.gy&&(t.parent.gy=0);var o=new Set;return t.x-t.xAnchorOffset<e.x-t.parent.gx-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.x-t.parent.gx-e.xAnchorOffset+t.xAnchorOffset,o.add("left")),t.y-t.yAnchorOffset<e.y-t.parent.gy-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.y-t.parent.gy-e.yAnchorOffset+t.yAnchorOffset,o.add("top")),t.x-t.xAnchorOffset+t.width>e.width-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.width-t.width-e.xAnchorOffset+t.xAnchorOffset,o.add("right")),t.y-t.yAnchorOffset+t.height>e.height-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.height-t.height-e.yAnchorOffset+t.yAnchorOffset,o.add("bottom")),0===o.size&&(o=void 0),o&&r&&r(o),o},r.prototype.outsideBounds=function(t,e,i){var r=e.x,o=e.y,n=e.width,h=e.height,f=new Set;return t.x<r-t.width&&f.add("left"),t.y<o-t.height&&f.add("top"),t.x>n+t.width&&f.add("right"),t.y>h+t.height&&f.add("bottom"),0===f.size&&(f=void 0),f&&i&&i(f),f},r.prototype._getCenter=function(t,e,i){return void 0!==t.anchor?0!==t.anchor[i]?0:e/2:e},r.prototype.hit=function(t,e,i,r,o,n){function h(t,e){var i=void 0!==t.parent,r=void 0!==e.parent;if(i&&r)return t.diameter&&e.diameter?f(t,e):t.diameter&&!e.diameter?a(t,e):s(t,e);if(r&&void 0!==t.x&&void 0!==t.y)return c(t,e);throw new Error("I'm sorry, "+t+" and "+e+" cannot be use together in a collision test.'")}function f(t,e){return i?t.vx+t.vy!==0&&e.vx+e.vy!==0?x(t,e,o):u(t,e,r,o):l(t,e)}function s(t,e){return i?g(t,e,r,o):y(t,e,o)}function a(t,e){return i?b(t,e,r,o):p(t,e,o)}var d,c=this.hitTestPoint.bind(this),y=this.hitTestRectangle.bind(this),l=this.hitTestCircle.bind(this),x=this.movingCircleCollision.bind(this),u=this.circleCollision.bind(this),p=this.hitTestCircleRectangle.bind(this),g=this.rectangleCollision.bind(this),b=this.circleRectangleCollision.bind(this),A=void 0!==t.parent,O=void 0!==e.parent;return A&&e instanceof Array||O&&t instanceof Array?function(){if(t instanceof Array){var i=e;e=t,t=i}for(var r=e.length-1;r>=0;r--){var o=e[r];(d=h(t,o))&&n&&n(d,o)}}():d=h(t,e),d},r.prototype.hitTest=function(t,e){for(var i={top:!1,left:!1,bottom:!1,right:!1},r=e.length-1;r>=0;r--){var o=e[r];t.x<o.x+o.width&&(i.left=!0),t.x+t.width>o.x&&(i.right=!0),t.y<o.y+o.height&&(i.top=!0),t.height+t.y>o.y&&(i.bottom=!0)}return i},r.prototype.hitTestDirections=function(t,e,i){var r=this.hitTest(t,e);for(var o in r)-1===i.indexOf(o)&&(r[o]=!1);return r},r.prototype.hitTestLeft=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(t.height+t.y>r.y&&t.y<r.y+r.height&&t.x<r.x+r.width)return!0}},r.prototype.hitTestRight=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(t.height+t.y>r.y&&t.y<r.y+r.height&&t.x+t.width>r.x)return!0}},r.prototype.hitTestTop=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(t.x+t.width>r.x&&t.x<r.x+r.width&&t.y<r.y+r.height)return!0}},r.prototype.hitTestBottom=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(t.x+t.width>r.x&&t.x<r.x+r.width&&t.height+t.y>r.y)return!0}},e.exports=r},{}],2:[function(t,e,i){var r={Bump:t("./Bump")};Object.assign(PIXI.extras,r),e.exports=r},{"./Bump":1}]},{},[2])(2)});
//# sourceMappingURL=pixi-bump.min.js.map
